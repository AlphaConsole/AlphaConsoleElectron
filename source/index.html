<!DOCTYPE html>
<html>
<!-- Not sure if this was on purpose or not but this was missing the closing > I'm not too familiar with html so /shrug -->

<head>
  <meta charset="UTF-8">
  <title>AlphaConsole</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <link rel="stylesheet" href="assets/styles/css/framework.css">
  <link rel="stylesheet" href="assets/styles/css/alphaconsole.css">

  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome-font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">

  <style>
    @font-face {
      font-family: BourgeoisLight;
      src: url(assets/fonts/BourgeoisLight.otf);
    }

    @font-face {
      font-family: BourgeoisMedium;
      src: url(assets/fonts/BourgeoisMedium.otf);
    }

    @font-face {
      font-family: QuarcaExtLight;
      src: url(assets/fonts/QuarcaExtLightModified.otf);
    }


    .font-bourgL {
      font-size: 22px;
      font-family: BourgeoisLight;
    }

    .font-bourgM {
      font-size: 16px;
      font-family: BourgeoisMedium;
    }

    .font-quarcaL {
      font-size: 22px;
      font-family: QuarcaExtLight;
    }

    .font-quarcaM {
      font-size: 16px;
      font-family: QuarcaExtLight;
    }



    /* Style tab links */

    .tablink {
      background-color: #555;
      color: white;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      font-size: 17px;
      width: 50%;
    }

    .tablink:hover {
      background-color: #777;
    }

    /* Style the tab content (and add height:100% for full page content) */

    .tabcontent {
      color: white;
      display: none;
      height: 100%;
    }

    .table th,
    .table td {

      border-top: none;
    }


    select {

      padding: 5px !important;

    }
  </style>
</head>


<body style="min-height: 100%;">
  <div class="mb-3" id="title-bar"></div>
  <div id="title-bar-btns">
    <a style="width:35px;height:35px; float:left; padding: 2px;" id="min-btn">
      <img style="width:16px; height:16px; margin-left:-3px; margin-left: 8px; margin-top: 7px; float: left;" src="https://png.icons8.com/small/64/ffffff/minimize-window.png">
    </a>
    <a style="display:none;" id="max-btn"></a>
    <a style="width:35px;height:35px; float:left; padding: 2px;" id="close-btn">

      <span style="margin-top: 7px; float: left;" class="lnr lnr-cross pl-2 pr-2"></span>
    </a>
  </div>
  <div style="margin-top: 20px;   margin-left: 10px;  position: absolute;" class="main  inner-fill">
    <div class="container-fluid">
      <div style="background:url('assets/img/logo_normal.png') no-repeat; background-position: 30px 24px;" class="row">
        <div class="col">
          <p class="font-quarcaL text-white p-4 heading-title">ALPHACONSOLE</p>
          <small class="build-number text-center">8.5.1.0 (public_build)</small>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <main>
            <!-- TAB1 -->
            <input id="tab1" type="radio" name="tabs" checked>
            <label for="tab1">ITEMS</label>

            <!-- TAB2 -->
            <input id="tab2" type="radio" name="tabs">
            <label for="tab2">EXTRAS</label>

            <!-- TAB3 -->
            <input id="tab3" type="radio" name="tabs">
            <label for="tab3">SETTINGS</label>


            <!-- ITEMS TAB -->
            <section style="overflow-y:scroll;" id="content1">
              <div class="row">
                <div class="col">
                  <p class="p-2 mb-0 text-white font-quarcaM">
                    Begin by selecting the item(s) you want and then the color you desire for each team.
                  </p>
                </div>
              </div>



              <div class="row">
                <div class="col">

                  <button class="tablink font-quarcaL" onclick="openPage('blueteamitems', this, '#5698EB')" id="defaultOpen">BLUE TEAM</button>
                  <button class="tablink font-quarcaL" onclick="openPage('orangeteamitems', this, '#D09B4F')">ORANGE TEAM</button>

                  <div id="blueteamitems" class="tabcontent">
                    <div class="table w-100">
                      <table class="w-100">
                        <thead>
                          <tr class="alt-row">
                            <td class="alt-row">Type</td>
                            <td class="alt-row-strong">Item</td>
                            <td class="alt-row">Color</td>
                          </tr>
                        </thead>
                        <tbody team="Blue">
                          <!-- BODY -->
                          <tr>
                            <td class="alt-row">Body</td>
                            <td class="alt-row-strong">

                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select" special="body">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- DECAL -->
                          <tr>
                            <td class="alt-row">Decal</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="decal-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- WHEELS -->
                          <tr>
                            <td class="alt-row">Wheels</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="wheel-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- BOOST -->
                          <tr>
                            <td class="alt-row">Boost</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="boost-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>


                          <!-- BOOST SOUND -->
                          <tr>
                            <td class="alt-row">Boost Sound</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="boost-sound-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                            </td>
                          </tr>

                          <!-- ANTENNA -->
                          <tr>
                            <td class="alt-row">Antenna</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="antenna-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- TOPPER -->
                          <tr>
                            <td class="alt-row">Topper</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="topper-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>


                          <!-- PAINT FINISH -->
                          <tr>
                            <td class="alt-row">Paint Finish</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="paint-select" disabled>
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                            </td>
                          </tr>


                          <!-- ENGINE AUDIO -->
                          <tr>
                            <td class="alt-row">Engine</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="engine-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                          <!-- TRAIL -->
                          <tr>
                            <td class="alt-row">Trail</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="trail-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>

                          <!-- GOAL EXPLOSION -->
                          <tr>
                            <td class="alt-row">Goal Explosion</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="explosion-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                          <!-- BANNER -->
                          <tr>
                            <td class="alt-row">Banner</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="banner-select" disabled>
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div id="orangeteamitems" class="tabcontent">
                    <div class="table w-100">
                      <table class="w-100">
                        <thead>
                          <tr class="alt-row">
                            <td class="alt-row">Type</td>
                            <td class="alt-row-strong">Item</td>
                            <td class="alt-row">Color</td>
                          </tr>
                        </thead>
                        <tbody team="Orange">
                          <!-- BODY -->
                          <tr>
                            <td class="alt-row">Body</td>
                            <td class="alt-row-strong">

                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select" special="body">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- DECAL -->
                          <tr>
                            <td class="alt-row">Decal</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="decal-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- WHEELS -->
                          <tr>
                            <td class="alt-row">Wheels</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="wheel-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- BOOST -->
                          <tr>
                            <td class="alt-row">Boost</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="boost-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- BOOST SOUND -->
                          <tr>
                            <td class="alt-row">Boost Sound</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="boost-sound-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                            </td>
                          </tr>

                          <!-- ANTENNA -->
                          <tr>
                            <td class="alt-row">Antenna</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="antenna-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>

                          <!-- TOPPER -->
                          <tr>
                            <td class="alt-row">Topper</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="topper-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">
                              <select class="acc-input" name="color-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                          </tr>


                          <!-- PAINT FINISH -->
                          <tr>
                            <td class="alt-row">Paint Finish</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="paint-select" disabled>
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                          <!-- ENGINE AUDIO -->
                          <tr>
                            <td class="alt-row">Engine</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="engine-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                          <!-- TRAIL -->
                          <tr>
                            <td class="alt-row">Trail</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="trail-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>

                          <!-- GOAL EXPLOSION -->
                          <tr>
                            <td class="alt-row">Goal Explosion</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="explosion-select">
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                          <!-- BANNER -->
                          <tr>
                            <td class="alt-row">Banner</td>
                            <td class="alt-row-strong">
                              <select class="acc-input" name="banner-select" disabled>
                                <option value=-1>Unchanged</option>
                              </select>
                            </td>
                            <td class="alt-row">

                            </td>
                          </tr>


                        </tbody>
                      </table>
                    </div>
                  </div>

                </div>
              </div>

            </section>

            <section style="overflow-y:scroll;" id="content2">
              <div class="row">
                <div class="col">
                  <p class="p-2 mb-0 text-white font-quarcaM">
                    Select an extra below (Click to expand a section)
                  </p>
                </div>
              </div>

              <button class="accordion">CUSTOM PAINT COLOR</button>
              <div class="panel">
                <div class="row alt-row p-2">
                  <div class="col-11 font-quarcaL">
                    Color all cars
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="color-all-cars" type="checkbox" checked="checked">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2">
                  <div class="col-11 font-quarcaL b-team">
                    Blue Team
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="custom-color-enabled-blue" type="checkbox">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row alt-row p-2">
                  <div class="col-6 fs-26 font-quarcaL">
                    Primary
                  </div>
                  <div class="col-6 font-quarcaL">
                    Accent
                  </div>
                </div>
                <div class="row alt-row p-2">

                  <div class="col-6 font-quarcaL">
                    <input id="primary-color-blue" type="color" style="height:40px; padding:2px;" class="acc-input">
                  </div>
                  <div class="col-6 font-quarcaL">
                    <input id="accent-color-blue" type="color" style="height:40px; padding:2px;" class="acc-input">
                  </div>
                </div>
                <div class="row alt-row p-2">

                  <div class="col-6 font-quarcaL">
                    <input id="primary-intensity-blue" class="acc-input" type="number" value="1.00" />
                  </div>
                  <div class="col-6 font-quarcaL">
                    <input id="accent-intensity-blue" class="acc-input" type="number" value="1.00" />
                  </div>
                </div>

                <div class="row p-2">
                  <div class="col-11 font-quarcaL o-team">
                    Orange Team
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="custom-color-enabled-orange" type="checkbox">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row alt-row p-2">
                  <div class="col-6 fs-26 font-quarcaL">
                    Primary
                  </div>
                  <div class="col-6 font-quarcaL">
                    Accent
                  </div>
                </div>
                <div class="row alt-row p-2">

                  <div class="col-6 font-quarcaL">
                    <input id="primary-color-orange" type="color" style="height:40px; padding:2px;" class="acc-input">
                  </div>
                  <div class="col-6 font-quarcaL">
                    <input id="accent-color-orange" type="color" style="height:40px; padding:2px;" class="acc-input">
                  </div>
                </div>
                <div class="row alt-row p-2">

                  <div class="col-6 font-quarcaL">
                    <input id="primary-intensity-orange" class="acc-input" type="number" value="1.00" />
                  </div>
                  <div class="col-6 font-quarcaL">
                    <input id="accent-intensity-orange" class="acc-input" type="number" value="1.00" />
                  </div>
                </div>



              </div>

              <button class="accordion ">CUSTOM TITLE OPTIONS</button>
              <div class="panel">
                <div class="row p-2">
                  <div class="col-11 font-quarcaL">
                    Enable custom title
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="enable-custom-titles" type="checkbox" checked="checked">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2 alt-row">
                  <div class="col-11 font-quarcaL">
                    Use static titles
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="use-static-titles" type="checkbox">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2">
                  <div class="col-9 font-quarcaL">
                    Title flash rate
                  </div>
                  <div class="col-3">
                    <input id="title-flash-rate" class="acc-input" type="number" value="1.00" />
                  </div>
                </div>
              </div>

              <button class="accordion ">RANKING OPTIONS</button>
              <div class="panel">
                <div class="row p-2">
                  <div class="col-11 font-quarcaL">
                    Display MMR and MMR updates ingame
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="display-mmr" type="checkbox" checked="checked">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2 alt-row">
                  <div class="col-11 font-quarcaL">
                    Enable MMR on unranked matches
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="enable-unranked-mmr" type="checkbox" checked="checked">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2">
                  <div class="col-11 font-quarcaL">
                    Upload match data to
                    <a class="" href="https://rltracker.pro/" style="color:#fff;">RLTracker.pro</a>
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input id="upload-match-data" type="checkbox" checked="checked">
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
              </div>

              <button class="accordion ">DISCORD RICH PRESENCE</button>
              <div class="panel">
                <div class="row p-2">
                  <div class="col-11 font-quarcaL">
                    Full Rich Presence
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input name="discord" type="radio" checked="checked" value=2>
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2 alt-row">
                  <div class="col-11 font-quarcaL">
                    No Rank Data or Time Remaining
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input name="discord" type="radio" value=1>
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="row p-2">
                  <div class="col-11 font-quarcaL">
                    Disabled
                  </div>
                  <div class="col-1">
                    <label class="tick-container">
                      <input name="discord" type="radio" value=0>
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
              </div>


              <button class="accordion ">Kermalis</button>
              <div class="panel">
                <div class="row p-2">
                  <div class="col-12 font-quarcaL">
                    <!-- KERMALIS -->
                  </div>
                </div>
              </div>
            </section>

            <section id="content3">
              <div class="row">
                <div class="col">
                  <p class="p-2 mb-0 text-white font-quarcaM">
                    Toggle various settings below to adapt AlphaConsole to your play style
                  </p>
                </div>
              </div>
              <!-- GENERAL SETTIGNS -->
              <div class="row">
                <div class="col">
                  <div id="CustomPaint" class="section-header">GENERAL</div>
                  <!-- APPLY ON STARTUP -->
                  <div class="row p-2">
                    <div class="col-11 font-quarcaL">
                      Enable AlphaConsole.
                    </div>
                    <div class="col-1">
                      <label class="tick-container">
                        <input id="ac-enabled" type="checkbox" checked="checked">
                        <span class="checkmark"></span>
                      </label>
                    </div>
                  </div>

                  <!-- MINIMIZE TO TRAY -->
                  <div class="row p-2 alt-row">
                    <div class="col-11 font-quarcaL">
                      Minimize to tray.
                    </div>
                    <div class="col-1">
                      <label class="tick-container">
                        <input id="minimize-to-tray" type="checkbox" checked="checked">
                        <span class="checkmark"></span>
                      </label>
                    </div>
                  </div>

                  <!-- RUN ON WINDOWS STARTUP -->
                  <div class="row p-2">
                    <div class="col-11 font-quarcaL">
                      Run on Windows startup.
                    </div>
                    <div class="col-1">
                      <label class="tick-container">
                        <input id="run-on-startup" type="checkbox" checked="checked">
                        <span class="checkmark"></span>
                      </label>
                    </div>
                  </div>

                  <!-- Detect RL install location  -->
                  <div class="row p-2 alt-row">
                    <div class="col-12 font-quarcaL">
                      Rocket League install location.
                    </div>
                    <div class="col-12">
                      <div class="row">
                        <div class="col-4">
                          <button id="detectInstall" class="font-quarcaL btn btn-acc w-100" onclick="DetectInstallLocation()">Auto-detect</button>
                        </div>
                        <div class="col-8">
                          <input id="install-location" class="acc-input font-quarcaL" type="text" value="" readonly/>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>


              <!-- GENERAL SETTIGNS -->
              <div class="row">
                <div class="col">
                  <div id="CustomPaint" class="section-header">INFO</div>
                  <!-- APPLY ON STARTUP -->
                  <div class="row p-2">
                    <div style="font-size:20px;" class="col-12 font-quarcaL">
                      Developed by:
                      <strong> Barbosicks, Carsillas, Arxarius, @root & Kermalis </strong>
                    </div>
                  </div>

                </div>
              </div>
            </section>



          </main>

          <div id="itemcontrols" class="row ">
            <div class="col">
              <button class="ml-1 mt-2 font-quarcaL btn btn-acc  w-100">NEED</button>
            </div>
            <div class="col">
              <button class=" mt-2 font-quarcaL btn btn-acc  w-100">SOMETHING</button>
            </div>
            <div class="col">
              <button class=" mt-2 font-quarcaL btn btn-acc  w-100">TO PUT</button>
            </div>
            <div class="col">
              <button class=" mt-2 font-quarcaL btn btn-acc  w-100">HERE</button>
            </div>
          </div>
          <div id="extracontrols" class="row">
            <div class="col">
              <a href="http://discord.gg/alphaconsole" style="color:#fff; width: 25%!important;" class="open-in-browser ml-1 mt-2 font-quarcaL btn btn-acc">DISCORD</a>
              <a href="https://www.paypal.me/AlphaConsole" style="color:#fff; width: 25%!important; " class="ml-2 mt-2 font-quarcaL btn btn-acc">DONATE</a>
            </div>
          </div>
          <div id="settingcontrols" class="row">
            <div class="col">
              <a href="http://discord.gg/alphaconsole" style="color:#fff; width: 25%!important;" class="open-in-browser ml-1 mt-2 font-quarcaL btn btn-acc">DISCORD</a>
              <a href="https://www.paypal.me/AlphaConsole" style="color:#fff; width: 25%!important; " class="ml-2 mt-2 font-quarcaL btn btn-acc">DONATE</a>
            </div>
          </div>

          <div class="row">
            <div class="col-4">
              <button style="border-radius:0px;" class="ml-1 mt-3 font-quarcaL btn btn-success  w-100" onclick="SaveConfiguration()">SAVE & APPLY</button>
            </div>

            <div class="col-8">
              <p style="margin-top:15px; font-size:28px;" class="text-uppercase font-quarcaL ac-status">ROCKET LEAGUE HOOKED</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>

  <script>
    function CopyFile(source, target) {
      var fs = require('fs');
      var rd = fs.createReadStream(source);
      var wr = fs.createWriteStream(target);
      return new Promise(function (resolve, reject) {
        rd.on('error', reject);
        wr.on('error', reject);
        wr.on('finish', resolve);
        rd.pipe(wr);
      }).catch(function (error) {
        rd.destroy();
        wr.end();
        throw error;
      });
    }

    function LoadFile(path) {
      var fs = require("fs");
      return fs.readFileSync(path);
    }

    function LoadItems() {
      var contents = LoadFile("./source/items.json");
      var contents2 = LoadFile("./source/slotDictionary.json");
      var products = JSON.parse(contents);
      var lookup = JSON.parse(contents2);
      products.Lookup = lookup;
      return products;
    }

    function FileExists(path) {
      var fs = require('fs');
      return fs.existsSync(path);
    }


    //Todo add a browse for directory thing idk help pls
    function DetectInstallLocation() {
      if (FileExists("C:/Program Files (x86)/Steam/steamapps/common/rocketleague/Binaries/Win32/RocketLeague.exe")) {
        document.getElementById("install-location").value =
          "C:/Program Files (x86)/Steam/steamapps/common/rocketleague/Binaries/Win32/";
      } else {
        //failed, prompt for directory

        //should notify user that we could not detect the rl installation

        const {
          dialog
        } = require('electron').remote
        dialog.showOpenDialog({
          defaultPath: "C:\\",
          title: "Choose your Rocket League executable",
          filters: [{
            name: 'Executables',
            extensions: ['exe']
          }],
          properties: ['openFile']
        }, (fileName) => {
          if (fileName === undefined) {
            alert("No install location selected");
            return;
          } else {
            document.getElementById("install-location").value = require("path").dirname(fileName[0]) + "\\"; //dum slashes
          }
        })
      }
    }

    function openPage(pageName, elmnt, color) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablink");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].style.backgroundColor = "";
      }
      document.getElementById(pageName).style.display = "block";
      elmnt.style.backgroundColor = color;

    }

    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();

    function PlaceFiles() {
      var fs = require('fs');

      if (FileExists(document.getElementById("install-location").value + "RocketLeague.exe")) {

        if (!FileExists(document.getElementById("install-location").value + "/discord-rpc.dll")) {
          CopyFile("discord-rpc.dll", document.getElementById("install-location").value + "/discord-rpc.dll");
        } else {
          var stats = fs.statSync(document.getElementById("install-location").value + "/discord-rpc.dll");
          var mtime = new Date(stats.mtime).getTime();
          var stats2 = fs.statSync("discord-rpc.dll");
          var mtime2 = new Date(stats2.mtime).getTime();
          if (mtime2 > mtime) {
            CopyFile("discord-rpc.dll", document.getElementById("install-location").value + "/discord-rpc.dll");
          }
        }
        if (!FileExists(document.getElementById("install-location").value + "/xapofx1_5.dll")) {
          CopyFile("AlphaConsole.dll", document.getElementById("install-location").value + "/xapofx1_5.dll");
        } else {
          var stats = fs.statSync(document.getElementById("install-location").value + "/xapofx1_5.dll");
          var mtime = new Date(stats.mtime).getTime();
          var stats2 = fs.statSync("AlphaConsole.dll");
          var mtime2 = new Date(stats2.mtime).getTime();
          if (mtime2 > mtime) {
            CopyFile("AlphaConsole.dll", document.getElementById("install-location").value + "/xapofx1_5.dll");
          }
        }

        CopyFile("config.json", document.getElementById("install-location").value + "/config.json");
      } else {
        alert("Rocket League path not set or incorrect! Set it in General settings.");
      }
    }

    function LoadConfiguration() {

      var Config = JSON.parse(LoadFile("config.json"));

      var Products = LoadItems();
      var colors = Products.Colors;
      var slots = Products.Slots;

      //Custom item options
      for (var i = 0; i < slots.length; i++) {
        if (slots[i] != null) {

          if (slots[i].Name == "Body") {
            $("select[name='color-select']").each((index, value) => {
              var team = $(value).closest('tbody').attr("team");
              $("tbody[team='" + team + "']").find("select[name='color-select'][special='body']").val(Config.Items[slots[i].SlotID][team].Color);
            })
          }

          var selects = $('select[name="' + Products.Lookup[slots[i].Name] + '"]');
          for (var j = 0; j < selects.length; j++) {
            var team = $(selects[j]).closest('tbody').attr("team");
            var valString = Config.Items[slots[i].SlotID][team].ItemID + ":" + Config.Items[slots[i].SlotID][team].PackageID + ":" + Config.Items[slots[i].SlotID][team].PackageSubID;
            $(selects[j]).val(valString);
            $(selects[j]).parent().next("td").find("select").val(Config.Items[slots[i].SlotID][team].Color);
          }
        }
      }

      //Custom color options
      $("#primary-color-blue").val(Config.CustomColors.Blue.PrimaryColor);
      $("#accent-color-blue").val(Config.CustomColors.Blue.AccentColor);
      $("#primary-color-orange").val(Config.CustomColors.Orange.PrimaryColor);
      $("#accent-color-orange").val(Config.CustomColors.Orange.AccentColor);
      $("#primary-intensity-blue").val(Config.CustomColors.Blue.PrimaryIntensity);
      $("#accent-intensity-blue").val(Config.CustomColors.Blue.AccentIntensity);
      $("#primary-intensity-orange").val(Config.CustomColors.Orange.PrimaryIntensity);
      $("#accent-intensity-orange").val(Config.CustomColors.Orange.AccentIntensity);
      $("#custom-color-enabled-blue").prop('checked', Config.CustomColors.Blue.Enabled);
      $("#custom-color-enabled-orange").prop('checked', Config.CustomColors.Orange.Enabled);
      $("#color-all-cars").prop("checked", Config.CustomColors.ColorAllCars);

      //Custom title options
      $("#enable-custom-titles").prop('checked', Config.CustomTitles.EnableCustomTitles);
      $("#use-static-titles").prop('checked', Config.CustomTitles.UseStaticTitles);
      $("#title-flash-rate").val(Config.CustomTitles.TitleFlashRate);

      //Custom rank options
      $("#display-mmr").prop('checked', Config.RankOptions.DisplayMMR);
      $("#enable-unranked-mmr").prop('checked', Config.RankOptions.UnrankedMMR);
      $("#upload-match-data").prop('checked', Config.RankOptions.UploadMatchData);

      //Discord rich presence options
      $("[name='discord'][value=" + Config.DiscordOptions.RichPresenceLevel + "]").prop("checked", true);

      //General options
      $("#ac-enabled").prop('checked', Config.GeneralOptions.Enabled);
      $("#minimize-to-tray").prop('checked', Config.GeneralOptions.MinimizeToTray);
      $("#run-on-startup").prop('checked', Config.GeneralOptions.RunOnStartup);
      $("#install-location").val(Config.GeneralOptions.InstallLocation);


    }




    function GetConfigurationString() {

      var Config = {};

      var Products = LoadItems();
      var colors = Products.Colors;
      var slots = Products.Slots;

      //Custom item options
      var Items = {};
      for (var i = 0; i < slots.length; i++) {
        if (slots[i] != null) {

          var slotID = slots[i].SlotID;

          Items[slotID] = {};
          Items[slotID].SlotName = slots[i].Name;

          if (slots[i].Name == "Body") {
            $("select[name='color-select'][special='body']").each((index, value) => {
              var team = $(value).closest('tbody').attr("team");
              Items[slotID][team] = {};
              Items[slotID][team].ItemID = -1
              Items[slotID][team].PackageID = -1;
              Items[slotID][team].PackageSubID = -1;
              Items[slotID][team].Color = parseInt($(value).val()) || -1;
            })
          }

          var selects = $('select[name="' + Products.Lookup[slots[i].Name] + '"]');
          for (var j = 0; j < selects.length; j++) {

            var team = $(selects[j]).closest('tbody').attr("team");

            Items[slotID][team] = {};
            if ($(selects[j]).val()) {
              var iid = $(selects[j]).val().split(":");

              Items[slotID][team].ItemID = parseInt(iid[0]);
              Items[slotID][team].PackageID = parseInt(iid[1]);
              Items[slotID][team].PackageSubID = parseInt(iid[2]);
            } else {

              Items[slotID][team].ItemID = -1;
              Items[slotID][team].PackageID = -1;
              Items[slotID][team].PackageSubID = -1;
            }

            Items[slotID][team].Color = parseInt($(selects[j]).parent().next("td").find("select").val()) || -1;
          }
        }
      }
      Config.Items = Items;


      //Custom color options
      var CustomColors = {};
      CustomColors.Blue = {};
      CustomColors.Orange = {};
      CustomColors.Blue.PrimaryColor = $("#primary-color-blue").val();
      CustomColors.Blue.AccentColor = $("#accent-color-blue").val();
      CustomColors.Orange.PrimaryColor = $("#primary-color-orange").val();
      CustomColors.Orange.AccentColor = $("#accent-color-orange").val();
      CustomColors.Blue.PrimaryIntensity = parseFloat($("#primary-intensity-blue").val());
      CustomColors.Blue.AccentIntensity = parseFloat($("#accent-intensity-blue").val());
      CustomColors.Orange.PrimaryIntensity = parseFloat($("#primary-intensity-orange").val());
      CustomColors.Orange.AccentIntensity = parseFloat($("#accent-intensity-orange").val());
      CustomColors.Blue.Enabled = $("#custom-color-enabled-blue").prop('checked');
      CustomColors.Orange.Enabled = $("#custom-color-enabled-orange").prop('checked');
      CustomColors.ColorAllCars = $("#color-all-cars").prop('checked');
      Config.CustomColors = CustomColors;



      //Custom title options
      var CustomTitles = {};
      CustomTitles.EnableCustomTitles = $("#enable-custom-titles").prop('checked');
      CustomTitles.UseStaticTitles = $("#use-static-titles").prop('checked');
      CustomTitles.TitleFlashRate = parseFloat($("#title-flash-rate").val());
      Config.CustomTitles = CustomTitles;


      //Custom rank options
      var RankOptions = {};
      RankOptions.DisplayMMR = $("#display-mmr").prop('checked');
      RankOptions.UnrankedMMR = $("#enable-unranked-mmr").prop('checked');
      RankOptions.UploadMatchData = $("#upload-match-data").prop('checked');
      Config.RankOptions = RankOptions;

      //Discord rich presence options
      var DiscordOptions = {};
      DiscordOptions.RichPresenceLevel = parseInt($("[name='discord']:checked").val()) || 2;
      Config.DiscordOptions = DiscordOptions;

      //General options
      var GeneralOptions = {};
      GeneralOptions.Enabled = $("#ac-enabled").prop('checked');
      GeneralOptions.MinimizeToTray = $("#minimize-to-tray").prop('checked');
      GeneralOptions.RunOnStartup = $("#run-on-startup").prop('checked');
      GeneralOptions.InstallLocation = $("#install-location").val();
      Config.GeneralOptions = GeneralOptions;

      //Miscellaneous
      Config.ACPath = __dirname;


      return JSON.stringify(Config);
    }

    function SaveConfiguration() {

      var fs = require('fs');
      try {
        fs.writeFileSync('config.json', GetConfigurationString(), 'utf-8');

        //Add a copy to Win32 so that you can load prefs from local one? idk
        PlaceFiles();
      } catch (e) {
        alert(e);
        alert('Failed to save the configuration!');
      }

    }
  </script>

  <script>
    let shell = require('electron').shell

    document.addEventListener('click', function (event) {
      if (event.target.tagName === 'A' && event.target.href.startsWith('http')) {
        event.preventDefault()
        shell.openExternal(event.target.href)
      }
    })
  </script>

  <script>
      (function () {
        // Retrieve remote BrowserWindow
        const {
          BrowserWindow
        } = require('electron').remote

        function init() {
          // Minimize task
          document.getElementById("min-btn").addEventListener("click", (e) => {
            var window = BrowserWindow.getFocusedWindow();
            window.minimize();
          });

          // Maximize window
          document.getElementById("max-btn").addEventListener("click", (e) => {
            var window = BrowserWindow.getFocusedWindow();
            if (window.isMaximized()) {
              window.unmaximize();
            } else {
              window.maximize();
            }
          });

          // Close app
          document.getElementById("close-btn").addEventListener("click", (e) => {
            var window = BrowserWindow.getFocusedWindow();
            window.close();
          });

          document.getElementById("detectInstall").addEventListener("click", (e) => {

          });
        };

        document.onreadystatechange = () => {
          if (document.readyState == "complete") {
            init();
          }
        };



      })();
  </script>

  <script>
    //TAB CONTROL TOGGLES
    $(document).ready(function () {
      $('#itemcontrols').show();
      $('#extracontrols').hide();
      $('#settingcontrols').hide();


      // Show the first tab by default
      $('.tabs-stage div').hide();
      $('.tabs-stage div:first').show();
      $('.tabs-nav li:first').addClass('tab-active');

      // Change tab class and display content
      $('.tabs-nav a').on('click', function (event) {
        event.preventDefault();
        $('.tabs-nav li').removeClass('tab-active');
        $(this).parent().addClass('tab-active');
        $('.tabs-stage div').hide();
        $($(this).attr('href')).show();
      });


      $('input[type="radio"]').click(function () {
        //ITEMS TAB CONTROLS
        if ($(this).attr('id') == 'tab1') {
          $('#itemcontrols').show();
        } else {
          $('#itemcontrols').hide();
        }
        //EXTRAS TAB CONTROLS
        if ($(this).attr('id') == 'tab2') {
          $('#extracontrols').show();
        } else {
          $('#extracontrols').hide();
        }
        //SETTIGNS TAB CONTROLS
        if ($(this).attr('id') == 'tab3') {
          $('#settingcontrols').show();
        } else {
          $('#settingcontrols').hide();
        }
      });
    });

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
          panel.style.maxHeight = null;
        } else {
          panel.style.maxHeight = panel.scrollHeight + "px";
        }
      });
    }
  </script>


  <script>

    function GetTexturePackagePaths() {

      var walkSync = function (dir, filelist) {
        var fs = require('fs');
        var path = require('path');

        files = fs.readdirSync(dir);

        filelist = filelist || [];
        files.forEach(function (file) {
          if (fs.statSync(dir + file).isDirectory()) {
            filelist = walkSync(dir + file + '/', filelist);
          }
          else {
            if (path.extname(file) == '.json')
              filelist.push(dir + file);
          }
        });
        return filelist;
      }

      return walkSync("textures/", []);
    }

    function GetTexturePackages() {

      var path = require('path');
      var paths = GetTexturePackagePaths();
      var tps = [];
      var packs = {};
      packs.packages = [];

      for (var i = 0; i < paths.length; i++) {

        if (paths[i].includes("packages.json")) {
          continue;
        }

        var tp = {};
        tp.Path = paths[i];
        tp.Package = JSON.parse(LoadFile(paths[i]));

        packs.packages[i] = {};
        packs.packages[i].id = i;
        packs.packages[i].name = tp.Package.name;
        packs.packages[i].folder = path.dirname(paths[i]);
        packs.packages[i].author = tp.Package.author

        tps.push(tp);

      }

      SaveMasterPackages(packs);

      return tps;
    }

    function SaveMasterPackages(packages) {
      var fs = require('fs');
      try {
        fs.writeFileSync('textures/packages.json', JSON.stringify(packages), 'utf-8');
      } catch (e) {
        alert(e);
        alert('Failed to save the packages!');
      }
    }


    // function for dynamic sorting
    function compareValues(key, order = 'asc') {
      return function (a, b) {
        if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {
          // property doesn't exist on either object
          return 0;
        }

        const varA = (typeof a[key] === 'string') ?
          a[key].toUpperCase() : a[key];
        const varB = (typeof b[key] === 'string') ?
          b[key].toUpperCase() : b[key];

        let comparison = 0;
        if (varA > varB) {
          comparison = 1;
        } else if (varA < varB) {
          comparison = -1;
        }
        return (
          (order == 'desc') ? (comparison * -1) : comparison
        );
      };
    }



    var Products = LoadItems();
    var TexturePackages = GetTexturePackages();


    var colors = Products.Colors;
    colors.sort(compareValues('Name'));
    $("select[name='color-select']").each(function (index, value) {

      for (var i = 0; i < colors.length; i++) {

        var newOp = $('<option>');
        newOp.attr('value', colors[i].ID);
        newOp.text(colors[i].Name);

        $(this).append(newOp);
      }

    });

    var slots = Products.Slots;
    for (var i = 0; i < slots.length; i++) {

      if (slots[i] != null) {

        var items = slots[i].Items;
        items.sort(compareValues('Name'));


        //VANILLA ITEMS
        for (var j = 0; j < items.length; j++) {
          //Will .each fuck this up because of async?
          $('select[name="' + Products.Lookup[slots[i].Name] + '"]').each(function (index, value) {
            var newOp = $('<option>');
            newOp.attr('value', items[j].ItemID + ":" + -1 + ":" + -1);
            newOp.text(items[j].Name);
            $(this).append(newOp);
          });
        }


        //CUSTOM ITEMS
        for (var j = 0; j < TexturePackages.length; j++) {
          var customitems = TexturePackages[j].Package.items;
          customitems.sort(compareValues(name));
          for (var k = 0; k < customitems.length; k++) {

            if (customitems[k].slot == slots[i].SlotID) {


              $('select[name="' + Products.Lookup[slots[i].Name] + '"]').each(function (index, value) {
                var newOp = $('<option>');
                newOp.attr('value', customitems[k].item + ":" + customitems[k].id + ":" + customitems[k].id);
                newOp.text("Custom: " + customitems[k].name);

                $(this).prepend(newOp);

              });

            }
          }
        }


      }
    }


    LoadConfiguration();

  </script>


</body>

</html>